(function(){"use strict";if(typeof window=="undefined"||typeof document=="undefined")return;function h(r,l){if(r){if(l){r.hidden=!0,r.hasAttribute("hidden")||r.setAttribute("hidden",""),r.setAttribute("aria-hidden","true");return}r.hidden=!1,r.removeAttribute("hidden"),r.setAttribute("aria-hidden","false")}}function k(r){return!(!r||typeof r.hasAttribute!="function"||r.hasAttribute("disabled")||r.hasAttribute("hidden")||r.getAttribute("aria-hidden")==="true")}function s(r){if(!(!r||typeof r.focus!="function"))try{r.focus({preventScroll:!0})}catch{r.focus()}}function v(r){if(!r)return[];var l=["a[href]","area[href]","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])",'[tabindex]:not([tabindex="-1"])'].join(","),d=r.querySelectorAll(l);return Array.prototype.filter.call(d,function(a){if(!k(a))return!1;for(var o=a;o&&o!==r;){if(o.hasAttribute("hidden")||o.getAttribute("aria-hidden")==="true")return!1;o=o.parentElement}return!0})}function S(){var r=document.querySelector(".blitz-dock");r&&(r.dataset&&r.dataset.bdIconFallback==="1"||!r.dataset&&r.getAttribute("data-bd-icon-fallback")==="1"||(r.dataset?r.dataset.bdIconFallback="1":r.setAttribute("data-bd-icon-fallback","1"),r.addEventListener("error",function(d){var a=d&&d.target?d.target:null;if(!(!a||a.tagName!=="IMG")&&!(!a.classList||!a.classList.contains("blitz-dock-channels__icon"))&&!(a.dataset&&a.dataset.fallbackApplied==="1")&&!((!a.dataset||typeof a.dataset.fallbackApplied=="undefined")&&a.getAttribute("data-fallback-applied")==="1"))try{var o=new URL(a.src,window.location.href);if(/\/default\.png$/i.test(o.pathname))return;o.pathname=o.pathname.replace(/\/[^/]+$/,"/default.png"),a.dataset&&(a.dataset.fallbackApplied="1"),a.setAttribute("data-fallback-applied","1"),a.src=o.toString()}catch{}},!0)))}document.addEventListener("DOMContentLoaded",function(){var l=document.querySelector("[data-bd-root]");if(!l)return;var d=l.querySelector("[data-bd-bubble]"),a=l.querySelector("[data-bd-panel]"),o=l.querySelector("[data-bd-overlay]"),b=l.querySelector("[data-bd-close]"),f=Array.prototype.slice.call(l.querySelectorAll("[data-bd-view]"));if(!d||!a||!o||!b||!f.length)return;var c={switchingView:!1,closeLock:!1,lastActive:null};function m(t){if(!t)return null;for(var e=0;e<f.length;e+=1)if(f[e].dataset&&f[e].dataset.bdView===t)return f[e];return null}function w(){for(var t=0;t<f.length;t+=1)if(f[t].getAttribute("aria-hidden")==="false")return f[t];return null}function q(){var t=w();return t&&t.dataset?t.dataset.bdView:null}function V(t){var e=l.querySelectorAll("[data-bd-target]");Array.prototype.forEach.call(e,function(i){if(i.dataset&&i.hasAttribute("aria-expanded")){var n=i.dataset.bdTarget===t;i.setAttribute("aria-expanded",n?"true":"false")}})}function z(t){var e=b.dataset||{},i=e.closeLabelHome||b.getAttribute("aria-label")||"Close panel",n=i.trim();n||(n="Close panel");var u=e.closeLabelBack||n;u=u.trim(),u||(u=n);var A=t==="home"?n:u;b.setAttribute("aria-label",A)}function D(){var t=m("home");if(t){var e=t.querySelector(".blitz-dock__nav-button");if(e&&k(e)){s(e);return}var i=v(t);i.length&&s(i[0])}}function T(t,e,i){if(t==="home"){D();return}if(t==="channels"){var n=e?e.querySelector("#blitz-dock-channels-title"):null;if(n){n.hasAttribute("tabindex")||n.setAttribute("tabindex","-1"),s(n);return}}var u=v(e);if(u.length){s(u[0]);return}i&&s(i)}function x(){var t=w(),e=v(t);if(e.length){s(e[0]);return}var i=v(a);if(i.length){s(i[0]);return}s(b)}function p(t,e){if(!(!t||c.switchingView)){var i=m(t);if(i){c.switchingView=!0;var n=e||{};try{f.forEach(function(u){h(u,u!==i)}),z(t),V(t),n.focus&&T(t,i,n.trigger||null)}finally{c.switchingView=!1}}}}function C(){a.hidden&&(c.lastActive=document.activeElement,d.setAttribute("aria-expanded","true"),h(a,!1),h(o,!1),document.body.classList.add("blitz-dock-scroll-lock"),l.classList.add("blitz-dock--open"),p("home",{focus:!1}),document.addEventListener("keydown",L,!0),x())}function y(){if(!a.hidden){d.setAttribute("aria-expanded","false"),document.removeEventListener("keydown",L,!0),p("home",{focus:!1}),h(a,!0),h(o,!0),document.body.classList.remove("blitz-dock-scroll-lock"),l.classList.remove("blitz-dock--open");var t=c.lastActive&&k(c.lastActive)?c.lastActive:d;s(t),c.lastActive=null}}function L(t){if(t.key==="Escape"){t.preventDefault(),y();return}if(t.key==="Tab"){var e=v(a);if(e.length){var i=e[0],n=e[e.length-1];if(t.shiftKey){(document.activeElement===i||!a.contains(document.activeElement))&&(t.preventDefault(),s(n));return}document.activeElement===n&&(t.preventDefault(),s(i))}}}l.addEventListener("click",function(e){if(typeof e.target.closest=="function"){var i=e.target.closest("[data-bd-bubble]");if(i){e.preventDefault(),a.hidden?C():y();return}var n=e.target.closest("[data-bd-overlay]");if(n){e.preventDefault(),e.stopPropagation(),y();return}var u=e.target.closest("[data-bd-close]");if(u){if(e.preventDefault(),c.closeLock)return;c.closeLock=!0;try{var A=q();A&&A!=="home"?p("home",{focus:!0,trigger:u}):y()}finally{c.closeLock=!1}return}var g=e.target.closest("[data-bd-target]");if(!(!g||!l.contains(g))){var E=g.dataset?g.dataset.bdTarget:null;E&&(e.preventDefault(),p(E,{trigger:g,focus:!0}))}}}),p("home",{focus:!1}),l.classList.remove("blitz-dock--hidden"),S()})})();
